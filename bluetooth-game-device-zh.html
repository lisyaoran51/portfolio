<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>藍牙音樂遊戲機（2019）| 專案介紹</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="side-text">專案</div>

  <header class="site-header">
    <div class="container nav">
      <a href="index-zh.html" class="brand">Josh Software.</a>
      <div class="nav-right">
        <nav class="menu">
          <a href="index-zh.html">首頁</a>
          <a href="about-zh.html">關於我</a>
          <a href="#overview">專案概述</a>
          <a href="#build">架構設計</a>
          <a href="#impact">成果重點</a>
        </nav>
        <div class="lang-switch" aria-label="語言切換">
          <a href="bluetooth-game-device.html">EN</a>
          <span class="divider">/</span>
          <a class="active" href="bluetooth-game-device-zh.html">中文</a>
        </div>
      </div>
    </div>
  </header>

  <main class="project-main">
    <section class="container project-hero" id="overview">
      <div>
        <p class="project-tag">作品 02</p>
        <h1 class="project-title">藍牙音樂遊戲機（2019）</h1>
        <p class="project-subtitle">
          這是一套為藍牙遊戲機打造的遊戲框架。由於裝置 CPU 與記憶體資源有限，
          我以低負載、可維護為目標設計整體架構，讓低階硬體也能穩定執行遊戲邏輯。
          技術基礎為 C++ 與 BASS 音訊函式庫。
        </p>
      </div>
      <img
        class="project-hero-image"
        src="game framework.jpg"
        alt="藍牙音樂遊戲框架示意圖"
      />
    </section>

    <section class="container project-content" id="build">
      <article class="project-block">
        <h2>元件分層（Components）</h2>
        <p>
          最底層為 Firmware / Library，包含 Display Driver、Keyboard Driver、藍牙（BLUEZ）以及音訊系統（BASS），直接與硬體資源互動。其上為 Framework 層，負責系統核心能力與裝置抽象，包含 IO Manager、Display Controller、Keyboard Controller、BLE Controller 與 Audio Manager，並透過 Request / Message 機制進行模組間通訊，搭配 Thread 與 Timing 管理系統運行節奏。
        </p>
        <p>
          再往上是 Music Game 層，涵蓋 Scene、UI、Script 與 Game Event，實現遊戲邏輯與互動體驗；
          最上層為 Ruleset 層，可擴充不同遊戲規則模組（Ruleset 1、2、3...），讓同一套底層架構支援多種玩法。
        </p>
        <p>
          整體設計重點在於模組化、可擴充性與分層清晰，
          使軟體邏輯與硬體實作有效解耦，便於後續功能演進，同時維持系統穩定與可維護性。
        </p>
        <img
          class="project-large-image"
          src="frame1.jpg"
          alt="系統元件與分層架構"
        />
      </article>

      <article class="project-block" id="impact">
        <h2>階層流程（Hierarchy Structure）</h2>
        <p>
          當玩家選擇歌曲後，系統交由 Player 載入對應規則與模式，並由 Time Controller 控制整體節奏與時間軸；核心玩法邏輯定義於 Ruleset，包含遊戲流程與計分規則；Playfield 負責畫面呈現，而最底層的 Event Master 實際驅動整場遊戲執行。
        </p>
        <p>
          此外，Dependency Cache 提供共用資源存取（如設定、音訊、IO），
          讓各元件在低耦合下取得必要能力。這個設計讓控制流更清楚、責任更分離，
          因此遊戲流程更容易維護與擴充，也有利於未來新增玩法或模組。
        </p>
        <img
          class="project-large-image"
          src="frame2.jpg"
          alt="遊戲層級流程與控制關係"
        />
      </article>

      <article class="project-block">
        <h2>執行緒設計（Threads）</h2>
        <p>
          根據不同的更新率的要求，最底層的 Thread 可以分為 Update Thread、Render Thread、Input Thread 與 Audio Thread，分別控制更新、渲染、輸入與音訊系統的執行。
        </p>
        <p>
          並透過更新頻率控制器，使每個 Thread 以指定頻率運行，
          讓互動、畫面與音訊在資源受限裝置上仍能保持穩定。
        </p>
        <img
          class="project-large-image"
          src="frame3.jpg"
          alt="多執行緒與時間控制設計"
        />
      </article>
    </section>
  </main>
</body>
</html>
